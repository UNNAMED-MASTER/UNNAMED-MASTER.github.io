---
title: Diary
layout: default
description: 日记
header-img: "img/tag-bg.jpg"
---

<!-- Page Header -->
{% include intro-header.html type='page' short=true %}

<!-- Main Content -->
<div class="container">
    <div class="row">
        <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
            {% assign diary_posts = site.posts | where_exp: "item", "item.tags contains '日记' or item.tags contains 'diary'" | sort: 'date' | reverse %}
            {% assign _date = '' %}

            {% for _article in diary_posts %}
                {% assign _currentdate = _article.date | date: '%Y' %}
                {% if _currentdate != _date %}
                    {% unless forloop.first %}</section>{% endunless %}
                    <section>
                    <span class="fa listing-seperator">
                        <span class="tag-text">{{ _currentdate }}</span>
                    </span>
                    {% assign _date = _currentdate %}
                {% endif %}

                <div class="post-preview item">
                    <a href="{{ _article.url | prepend: site.baseurl }}">
                        <h2 class="post-title">
                            {{ _article.title }}
                        </h2>
                        {% if _article.subtitle %}
                        <h3 class="post-subtitle">
                            {{ _article.subtitle }}
                        </h3>
                        {% endif %}
                    </a>
                    <p class="post-meta">
                        {{ _article.date | date: "%Y-%m-%d" }}
                    </p>
                    <hr>
                </div>
            {% endfor %}
            {% if diary_posts.size > 0 %}</section>{% endif %}

            {% if diary_posts.size == 0 %}
            <p class="text-muted">暂无日记。在文章 front matter 中加上 <code>tags: 日记</code> 或 <code>tags: diary</code> 即可出现在本页。</p>
            {% endif %}
        </div>
    </div>
</div>

{% if site.gitalk.enable %}
<link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css">
<script src="https://unpkg.com/gitalk@latest/dist/gitalk.min.js"></script>
<div id="gitalk-container"></div>
<script type="text/javascript">
  var gitalk = new Gitalk({
    clientID: '{{ site.gitalk.clientID }}',
    clientSecret: '{{ site.gitalk.clientSecret }}',
    repo: '{{ site.gitalk.repo }}',
    owner: '{{ site.gitalk.owner }}',
    admin: ['{{ site.gitalk.admin }}'],
    distractionFreeMode: '{{ site.gitalk.distractionFreeMode }}',
    id: 'diary'
  });
  gitalk.render('gitalk-container');
</script>
{% endif %}
